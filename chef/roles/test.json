{
  "name": "base",
  "description": "install base runtime environment",
  "json_class": "Chef::Role",
  "chef_type": "role",
  "run_list": [
    "recipe[apt]",
    "recipe[nodejs]",
    "recipe[user::data_bag]",
    "recipe[custom::dirs]",
    "recipe[custom::repos]",
    "recipe[custom::npm]",
    "recipe[custom::file]"
  ],
  "override_attributes": {
    "dirs": [{
      "path": "/home/pelias/repos",
      "owner": "pelias",
      "group": "pelias",
      "mode": "0755"
    },{
      "path": "/home/pelias/data",
      "owner": "pelias",
      "group": "pelias",
      "mode": "0755"
    }],
    "repos": [{
      "repository": "https://github.com/pelias/whosonfirst.git",
      "remote": "origin",
      "revision": "master",
      "destination": "/home/pelias/repos/whosonfirst",
      "user": "pelias",
      "group": "pelias"
    }],
    "npm": [{
      "command": "install --production",
      "cwd": "/home/pelias/repos/whosonfirst",
      "user": "pelias",
      "group": "pelias"
    }],
    "file": [{
      "format": "json",
      "path": "/home/pelias/pelias.json",
      "content": {
        "imports": {
          "whosonfirst": {
            "datapath": "/home/pelias/data/whosonfirst",
            "importVenues": false,
            "importPostalcodes": false
          }
        }
      },
      "owner": "pelias",
      "group": "pelias",
      "mode": "0755"
    }]
  }
}
